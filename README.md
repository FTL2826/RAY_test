# RAY_test

## Задание 1

**Условия задачи:** На вход подается матрица A x B (1 <= A, B <= 10^3; 1 <= A * B <= 10^3). Значение каждой ячейки - целое число 0 или 1. Найти наименьшее расстояние от каждой ячейки до ближайшей ячейки со значением 1. Расстояние между соседними ячейками равно 1.

**Пример:** Входная матрица: [[1,0,1], [0,1,0], [0,0,0]] Выходная матрица: [[0,1,0], [1,0,1], [2,1,2]]

**Решение:** реализовано в отдельном playground файле, вложенном в проект. Идея заключается в поиске вширь по матрице с записью расстояния в матрицу дистанций для каждой единице из входных данных. С помощью минимизации новопосчитанного расстояния и memoization расстояния пройдясь по всем единицам во входных данных получим матрицу-ответ.



## Задание 2

Написать приложение для iPhone генерирующее картинки по запросу.

Приложение состоит из двух табов. Первый таб - главная страница. На ней содержится поле ввода в которое пользователь будет вводить запрос и кнопка подтверждения. По нажатию кнопки происходит генерация картинки после чего она выводится на эту же форму. Так же на этой форме есть кнопка чтобы добавить полученную картинку в избранное. Предусмотреть вывод ошибок. Предполагается, что API платное, а поэтому постараться минимизировать кол-во запросов к API. Картинка в ответ на один и тот же запрос всегда одинаковая. Второй таб - избранное. Форма состоит из таблицы в каждой строчке которой находится 1 картинка добавленная пользователем в избранное и запрос по которому картинка была сгенерирована. Тут же картинку можно удалить из избранного. Ограничить кол-во картинок которое можно хранить в избранном. По достижении лимита удаляется самая старая картинка из избранного, после чего добавляется новая не выводя ошибок пользователю. Избранное должно сохраняться между сессиями.

**Язык: Swift.** **Минимальная версия iOS: 12.** Интерфейс реализовать средствами UIKit. Запрещается использование сторонних библиотек. Исключением являются библиотеки для работы с SQLite, если SQLite будет использоваться в программе (способ хранения данных выбирается на ваше усмотрение). Выбрать какой-то класс и написать для него 1-2 unit теста на свое усмотрение. Весь класс покрывать не нужно. Выбрать форму и написать 1 UI тест на свое усмотрение. Всю форму покрывать тестами не нужно.

Для генерации картинок можно использовать сервис [https://dummyimage.com/](https://dummyimage.com/) Пример запроса:https://dummyimage.com/500x500&text=some+text где "500x500" размер картинки (выбрать какой-то размер и зафиксировать), а "text=" запрос от пользователя.



- [x]  2 таба

- [x] Поле ввода ~= UITextField. Кнопка подтверждения ~= UIButton (submit)

- [x] Генерация картинки. Минимизация запросов в сеть с помощью URLCache у сессии.

- [x] Добавление в избранное ~= UIButton (favorites).

- [x] Ограничение на количество избранных картинок – захардкожено число 5. Можно сделать пикер с динамическим выбором числа. Так как реализована модель через очередь, в случае уменьшения этого числа просто dequeue бы разницу.

- [x] Сохранение между сессиями избранного сделано через сохранение JSON модели в песочницу приложения (cacheDirectory).

- [x] Target = iOS 12

- [x] 100% UIKit, no Storyboard.

- [x] **Паттерны:** Coordinator + Factory + MVVM + DI

- [x] Парочка unit тестов для MainPageViewModel (мокаю зависимости, тест также задевает приватные методы)

- [x] UI тест основного экрана, что пока не засабмитили картинку, кнопка добавить в избранное не работает.
